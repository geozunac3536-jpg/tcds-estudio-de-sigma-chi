<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TCDS Î£â€“Ï‡ â€” IntegraciÃ³n GA4</title>

  <!-- GA4 (reemplaza G-XXXXXXXXXX por tu Measurement ID) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX', { 'send_page_view': true });

    // Eventos Î£-metrics
    function trackSigmaDownload(name, sha256, sizeBytes){
      gtag('event','sigma_download',{
        artifact_name:name,
        sha256:sha256,
        size_bytes:sizeBytes
      });
      console.log("Evento enviado: sigma_download",name);
    }
    function trackSigmaLock(li,r,rmse,kappa,z){
      gtag('event','sigma_lock',{
        li:li,r_corr:r,rmse_sl:rmse,kappa_sigma:kappa,z_score:z
      });
      console.log("Evento enviado: sigma_lock",li,r,rmse,kappa,z);
    }
    function trackPredictionPublished(dateISO,region,magThr,hash){
      gtag('event','sigma_prediction_published',{
        pred_date:dateISO,region:region,mag_thr:magThr,hash_sha256:hash
      });
      console.log("Evento enviado: sigma_prediction_published",dateISO);
    }
    function trackPredictionVerified(dateISO,outcome,deltaHrs){
      gtag('event','sigma_prediction_verified',{
        pred_date:dateISO,outcome:outcome,delta_t_hours:deltaHrs
      });
      console.log("Evento enviado: sigma_prediction_verified",dateISO);
    }
  </script>

  <style>
    :root { color-scheme: dark; }
    body {
      background:#0b0f14; color:#e6edf3; font-family: system-ui,Segoe UI,Roboto;
      margin:0; padding:2rem; line-height:1.5;
    }
    h1 { color:#3fb950; }
    button {
      background:#1f6feb; color:#fff; border:none; border-radius:8px;
      padding:0.6rem 1rem; font-size:1rem; cursor:pointer;
      margin:0.3rem 0.3rem 0.6rem 0;
    }
    button:hover { background:#3fb950; }
    code { background:#0a0f16; border:1px solid #1b2633; border-radius:6px; padding:0.2rem 0.4rem; }
    section { margin-bottom:2rem; }
    footer { margin-top:3rem; font-size:0.9rem; color:#9fb5cc; border-top:1px solid #1f2937; padding-top:1rem; }
  </style>
</head>

<body>
  <h1>TCDS Î£â€“Ï‡ â€” IntegraciÃ³n GA4</h1>
  <p>Panel de prueba para verificar la instrumentaciÃ³n GA4 de Î£-metrics.  
  Usa estos botones y observa los eventos en <strong>DebugView</strong> de Google Analytics 4.</p>

  <section>
    <h2>ðŸ“¥ Prueba de Descarga (sigma_download)</h2>
    <button onclick="trackSigmaDownload('ESTRUCTURAS_DISPARES.pdf','8abd2f29d7a21f23',139000)">Descargar ESTRUCTURAS_DISPARES.pdf</button>
    <button onclick="trackSigmaDownload('Llave_maestra.pdf','e2d4524e8f82e1cc',170000)">Descargar Llave_maestra.pdf</button>
  </section>

  <section>
    <h2>ðŸ”„ Estado de Coherencia (sigma_lock)</h2>
    <button onclick="trackSigmaLock(0.92,0.96,0.08,334,5.2)">Enviar Locking LI=0.92</button>
  </section>

  <section>
    <h2>ðŸŒŽ PredicciÃ³n Î£-Earth</h2>
    <button onclick="trackPredictionPublished('2025-11-02','MesoamÃ©rica',5.5,'hash123abc')">Publicar PredicciÃ³n</button>
    <button onclick="trackPredictionVerified('2025-11-02','hit',24)">Verificar (hit)</button>
    <button onclick="trackPredictionVerified('2025-11-02','miss',72)">Verificar (miss)</button>
  </section>

  <section>
    <h2>ðŸ“Š Documentos y Definiciones</h2>
    <p>Consulta los siguientes archivos para implementaciÃ³n completa:</p>
    <ul>
      <li><a href="README_INTEGRACION_GA4.md">README_INTEGRACION_GA4.md</a></li>
      <li><a href="GA4_MEASUREMENT_PLAN.md">GA4_MEASUREMENT_PLAN.md</a></li>
      <li><a href="GA4_CUSTOM_DEFINITIONS.json">GA4_CUSTOM_DEFINITIONS.json</a></li>
      <li><a href="GTAG_SNIPPET.html">GTAG_SNIPPET.html</a></li>
    </ul>
  </section>

  <footer>
    Â© 2025 Genaro Carrasco Ozuna â€” Proyecto TCDS Â· IntegraciÃ³n GA4 Î£â€“metrics Â· Licencia CC BY-NC-SA 4.0
  </footer>
</body>
</html>
